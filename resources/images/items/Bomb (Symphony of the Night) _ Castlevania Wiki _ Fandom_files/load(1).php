(function(){'use strict';var mconfig=mw.config.get(['wgUserLanguage','wgUserName']);if(window.DiscordIntegratorLoaded){return;}window.DiscordIntegratorLoaded=!0;var DiscordIntegrator={config:(window.DiscordIntegratorConfig||{}).siderail||{},hook:function(i18n){$.when(i18n.loadMessages('DiscordIntegrator'),mw.loader.using('mediawiki.api')).then($.proxy(this.preload,this));},preload:function(i18n){this.i18n=i18n;mw.hook('wikipage.content').add($.proxy(this.insertToContent,this));this.api=new mw.Api();this.api.get({action:'query',meta:'allmessages',ammessages:['id','title','moduleHeight','theme','width','height','text','logged-in','footer','username'].map(function(el){return'Custom-DiscordIntegrator-config-'+el;}).join('|'),amlang:mconfig.wgUserLanguage,smaxage:300,maxage:300}).done($.proxy(function(d){if(!d.error){d.query.allmessages.forEach(function(el){if(el['*']){this.config[el.name.substring(32)]=el['*'];}},this);this._loading=0;['text','title','footer'].forEach(this.parse,this);if
(this._loading===0){this.init();}}},this));},parse:function(msg){if(this.config[msg]){++this._loading;this.api.get({action:'parse',text:this.config[msg]}).done($.proxy(function(d){if(!d.error){this.config[msg]=d.parse.text['*'];if(--this._loading===0){this.init();}}},this));}},init:function(){if(this.config.id&&$('#WikiaRail').length>0){var clas=$('#WikiaRail').attr('class');if(clas&&clas.split(/\s+/).indexOf('loaded')===-1){$('#WikiaRail').on('afterLoad.rail',$.proxy(this.insertToSiderail,this));}else{this.insertToSiderail();}}},insertToSiderail:function(){var filter=$('#top-right-boxad-wrapper, #top-boxad-wrapper, #NATIVE_TABOOLA_RAIL, .content-review-module').last(),el=$('<div>',{class:'DiscordIntegratorModule rail-module'});if(this.config.title){el.append($('<h2>',{'class':'activity-heading',html:this.config.title}));}if(this.config.text){el.append($('<p>',{id:'DiscordIntegratorModuleText',html:this.config.text}));}el.append(this.generateContent(this.config));if(this.config.footer)
{el.append($('<p>',{id:'DiscordIntegratorModuleFooter',html:this.config.footer}));}if(filter.length>0){el.insertAfter(filter);}else{$('#WikiaRail').prepend(el);}if(this.config.moduleHeight){mw.util.addCSS('.DiscordIntegratorModule { height: '+Number(this.config.moduleHeight)+'px; }');}mw.hook('DiscordIntegrator.added').fire(el);},insertToContent:function($content){$content.find('.DiscordIntegrator:not(.loaded)').each($.proxy(function(cabbage,el){el=$(el);el.html(this.generateContent(el.data())).addClass('loaded');},this));},generateContent:function(config){return config.id?((config.loggedIn===true||(Boolean(config['logged-in'])===true&&config['logged-in']!=='false'&&config['logged-in']!=='{{{loggedIn}}}'))&&!mconfig.wgUserName)?this.i18n.msg('login').parse():mw.html.element('iframe',{src:'https://discord.com/widget?id='+config.id+'&theme='+(config.theme==='light'?'light':'dark')+'&username='+encodeURIComponent(config.username==='@disabled'?'':config.username==='@function'&&typeof window
.DiscordIntegratorGetUsername==='function'?window.DiscordIntegratorGetUsername():config.username||mconfig.wgUserName),width:config.width||'100%',height:config.height||'400px',allowtransparency:'true',frameborder:'0'}):this.i18n.msg('error').escape();}};mw.hook('dev.i18n').add($.proxy(DiscordIntegrator.hook,DiscordIntegrator));importArticle({type:'script',article:'u:dev:MediaWiki:I18n-js/code.js'});})();;window.BackToTopModern=!0;importArticle({type:'script',article:'u:dev:MediaWiki:BackToTopButton/code.js'});;(function(){var config=mw.config.get(['wgCanonicalSpecialPageName','wgNamespaceNumber','wgUserGroups']),warning=$.storage.get('ShowHide-warning'),$elements=$('.collapsible, .NavGlobal, .NavFrame'),warningText='<a href="https://dev.fandom.com/wiki/ShowHide" title="ShowHide documentation">ShowHide</a> is no longer supported, but is $1. '+'You should consider switching your templates to MediaWiki collapsible selectors, such as <code>class="mw-collapsible"</code>. '+
'See the <a href="https://community.fandom.com/wiki/Help:Collapsing" title="Collapsing help page">Collapsing help page</a> for more details.<br />'+'<span style="font-size: smaller;">(This warning is generated by the ShowHide script and not endorsed by FANDOM in any way. Closing this notification will hide the warning for 6 months.)</span>';console.warn('[Deprecation] ShowHide is no longer supported. You should consider switching your templates to MediaWiki collapsible selectors, such as class="mw-collapsible". See https://community.fandom.com/wiki/Help:Collapsing for more details.');if($elements.length){console.warn('Elements that used by deprecated ShowHide script:',$elements);}if(window.ShowHideNoWarning){return;}if(warning&&Date.now()-warning<6*30*24*60*60*1000){return;}if(!window.ShowHideDisplayWarning||config.wgCanonicalSpecialPageName==='Recentchanges'){return;}function onClose(){$.storage.set('ShowHide-warning',Date.now());}function banner(usage){new BannerNotification(
warningText.replace('$1',usage),'warn').onClose(onClose).show();}if($elements.length){banner('in use on this page');}else if([8,9,10,11].indexOf(config.wgNamespaceNumber)>-1){banner('being imported on this wiki');}})();(function($){var config=window.ShowHideConfig=$.extend(true,{autoCollapse:2,userLang:!0,brackets:'[]',linkBefore:!1,en:{show:"show",hide:"hide",showAll:"show all",hideAll:"hide all"},be:{show:"Адкрыць",hide:"Схаваць",showAll:"Адкрыць усё",hideAll:"Схаваць усё"},cs:{show:"Zobrazit",hide:"Skrýt",showAll:"Zobrazit vše",hideAll:"Skrýt vše"},bg:{show:"Покажи",hide:"Скрий",showAll:"Покажи всички",hideAll:"Скрий всички"},de:{show:"anzeigen",hide:"verbergen",showAll:"alle anzeigen",hideAll:"alle verbergen"},el:{show:"εμφάνιση",hide:"απόκρυψη",showAll:"εμφάνιση όλων",hideAll:"απόκρυψη όλων"},es:{show:"Mostrar",hide:"Ocultar",showAll:"Mostrar todo",hideAll:
"Ocultar todo"},fr:{show:"afficher",hide:"masquer",showAll:"tout afficher",hideAll:"tout masquer"},hu:{show:"kibontás",hide:"elrejtés",showAll:"összes kibontása",hideAll:"összes elrejtése"},it:{show:"Mostra",hide:"Nascondi",showAll:"Mostra tutti",hideAll:"Nascondi tutti"},ja:{show:"表示",hide:"非表示",showAll:"すべて表示",hideAll:"すべて非表示"},ko:{show:"보이기",hide:"숨기기",showAll:"모두 보이기",hideAll:"모두 숨기기"},nl:{show:"tonen",hide:"verbergen",showAll:"alles tonen",hideAll:"alles verbergen"},pl:{show:"Pokaż",hide:"Ukryj",showAll:"Pokaż wszystko",hideAll:"Ukryj wszystko"},pt:{show:"Mostrar",hide:"Esconder",showAll:"Expandir Todos",hideAll:"Esconder Todos"},'pt-br':{show:"Mostrar",hide:"Esconder",showAll:"Expandir Todos",hideAll:"Esconder Todos"},ru:{show:"Открыть",hide:"Скрыть",showAll:"Открыть все",hideAll:"Скрыть все"},tr:{show:"göster",hide:"gizle",showAll:"tümünü göster",hideAll:"tümünü gizle"
},uk:{show:"Відкрити",hide:"Cховати",showAll:"Відкрити всі",hideAll:"Cховати всі"},vi:{show:"hiện",hide:"ẩn",showAll:"hiện tất cả",hideAll:"ẩn tất cả"},zh:{show:"显示",hide:"隐藏",showAll:"全部显示",hideAll:"全部隐藏"}},window.ShowHideConfig||{});function msg(name){if(config.userLang&&wgUserLanguage in config&&name in config[wgUserLanguage]){return config[wgUserLanguage][name];}if(wgContentLanguage in config&&name in config[wgContentLanguage]){return config[wgContentLanguage][name];}return config.en[name];}$.fn.onLink=function(fn){return this.bind('click keypress',function(e){if(e.type==='click'||(e.type==='keypress'&&(e.keyCode===13||e.charCode===32))){fn.call(this,e);}});};function collapseTable(node,state){var $table=$(node),$button=$table.find('tr:first > th:last .collapseLink');if(!$table.length||!$button.length){return false;}if(typeof state==='boolean'){$table.toggleClass('collapsed',!state);}else{$table.toggleClass(
'collapsed');}var hidden=$table.hasClass('collapsed');$table.find('> * > tr').not(':first, .nocollapse')[hidden?"hide":"show"]();$button.text(msg(hidden?"show":"hide"));return true;}function createCollapseButtons(){var NavigationBoxes=[];$('table.collapsible').each(function(){NavigationBoxes.push(this);var $buttonLink=$('<span tabIndex=0 class=collapseLink />').text(msg("hide")).css({cursor:"pointer"}).onLink(function(e){collapseTable($(this).closest('table'));}),$button=$("<span class=collapseButton />").css({"float":"right",textAlign:"right",fontWeight:"normal",width:"6em",marginLeft:"-100%"});$button.append(document.createTextNode(config.brackets.substr(0,config.brackets.length/2)),$buttonLink,config.brackets.substr(config.brackets.length/2));var $header=$(this).find('tr:first > th:last').prepend($button);});if($(NavigationBoxes).filter('.autocollapse').length>=config.autoCollapse){$(NavigationBoxes).filter('.autocollapse').each(function(){collapseTable(this,false);});}$(
NavigationBoxes).filter('.collapsed').each(function(){collapseTable(this,false);});}$(createCollapseButtons);function toggleNavigationBar(node){var $navFrame=$(node),$navToggle=$navFrame.find('.NavHead:first .collapseLink');if(!$navFrame.length||!$navToggle.length){return false;}$navFrame.toggleClass('NavVisible');$navFrame.find('.NavPic, .NavContent').not($navFrame.find('.NavFrame .NavPic')).not($navFrame.find('.NavFrame .NavContent')).slideToggle();$navToggle.text(msg($navFrame.hasClass('NavVisible')?"hide":"show"));return true;}function createNavigationBarToggleButton(){var NavFrames=$('.NavFrame').addClass('NavVisible').each(function(){var $navHead=$(this).find('.NavHead:first'),$buttonLink=$('<span tabIndex=0 class=collapseLink />').text(msg("hide")).onLink(function(e){toggleNavigationBar($(this).closest('.NavFrame'));}),$button=$('<span class="NavToggle collapseButton" />');$navHead.filter('legend').append(' - ');if(config.brackets){$button.append(document.createTextNode(config.
brackets.substr(0,config.brackets.length/2)),$buttonLink,config.brackets.substr(config.brackets.length/2));}else{$button.append($buttonLink);}$navHead[config.linkBefore?"prepend":"append"]($button);});if(NavFrames.length>=config.autoCollapse){NavFrames.not('.noautocollapse').each(function(){toggleNavigationBar(this);});}else{NavFrames.filter('.collapsed').each(function(){toggleNavigationBar(this);});}return true;}$(createNavigationBarToggleButton);$(function(){$('.NavGlobal').each(function(){$('<span class=NavGlobalShow />').append(document.createTextNode('['),$('<span tabIndex=0 class=collapseLink />').text(msg("showAll")).onLink(function(e){$('.NavFrame').each(function(){if(!$(this).hasClass('NavVisible'))toggleNavigationBar(this);});}),']').appendTo(this);$(this).append(' ');$('<span class=NavGlobalHide />').append(document.createTextNode('['),$('<span tabIndex=0 class=collapseLink />').text(msg("hideAll")).onLink(function(e){$('.NavFrame').each(function(){if($(this).hasClass(
'NavVisible'))toggleNavigationBar(this);});}),']').appendTo(this);});});})(jQuery);;require(['wikia.window','jquery','mw'],function(window,$,mw){var config=mw.config.get(['wgScriptPath','wgCanonicalSpecialPageName']);if(config.wgCanonicalSpecialPageName!=='Community'||$('#wiki-manager-module').length){return;}function wikiManagerModule(wds,i18n){var api=new mw.Api();api.get({action:'query',meta:'allmessages',ammessages:'custom-Wiki_Manager'}).done(function(r,s){if(s!=='success'||!r.query){return;}api.get({action:'query',list:'users',ususers:r.query.allmessages[0]['*'],usprop:'groups'}).done(function(r,s){if(s!=='success'||!r.query){return;}var user=r.query.users[0];$.getJSON(config.wgScriptPath+'/api/v1/User/Details',{ids:user.userid,size:50}).done(function(r,s){if(s!=='success'||!r.items){return;}var user2=r.items[0],badge=user.groups.includes('staff')?'staff':user.groups.includes('helper')?'helper':undefined;if(badge){badge={badgeText:badge,badgeMarkup:wds.badge(badge,{width:18}).
outerHTML};}require(['wikia.mustache','communitypage.templates.mustache'],function(mustache,templates){$(mustache.render(templates.adminsModule,{topAdminsData:{topAdminsHeaderText:i18n.msg('wiki-manager').plain(),topAdminsList:[{avatar:'<img src="'+user2.avatar+'">',badge:badge,profilePage:user2.url,userName:user.name}],adminsText:'<a href="https://community.fandom.com/wiki/Help:Wiki_Managers">'+i18n.msg('wiki-manager_desc').escape()+'</a>'}},{topAdmins:templates.topAdmins.replace(/([^{]){{adminsText}}([^}])/,'$1{{{adminsText}}}$2')})).attr('id','wiki-manager-module').insertAfter('.community-page-admins-module');});});});});}$.when(new $.Deferred(function(deferred){if(window.dev&&window.dev.wds){deferred.resolve(window.dev.wds);}else{mw.hook('dev.wds').add(function(wds){deferred.resolve(wds);});importArticle({type:'script',article:'u:dev:MediaWiki:WDSIcons/code.js'});}}),new $.Deferred(function(deferred){if(window.dev&&window.dev.i18n){window.dev.i18n.loadMessages(
'WikiManager_Nameplate').done(deferred.resolve);}else{mw.hook('dev.i18n').add(function(i18n){i18n.loadMessages('WikiManager_Nameplate').done(deferred.resolve);});importArticle({type:'script',article:'u:dev:MediaWiki:I18n-js/code.js'});}}),mw.loader.using(['mediawiki.api','mediawiki.util'])).done(wikiManagerModule);});;;mw.loader.state({"wikia.fake.articles.102de95935776bfd1c014ef08baac33c":"ready"});

/* cache key: castlevania:resourceloader:filter:minify-js:7:070a2faae5354cb25126783ee9315dfd */